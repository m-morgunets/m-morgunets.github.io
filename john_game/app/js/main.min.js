$((function(){let e,t,o,s,a,c,i,f,n,l,r,p,m,u,d,h,x,g,y;$(window).height();function v(){offEyeRandom=1e3*w(3,7),$(".face-sleepEye").css("opacity",1),x=setTimeout(()=>{$(".face-sleepEye").css("opacity",0)},150),u=setTimeout(v,offEyeRandom)}function b(){!function(){let e=w($(".container").offset().top,$(".container").offset().top+$(".container").height());$(".shots").append('<div class="shots-item"></div>'),$(".shots-item:last-child").css("top",e+"px")}(),d=setTimeout(b,1e3-2*g)}function T(){for(const e of $(".shots-item")){let t=$(e).offset().left,o=$(e).offset().top,s=$(".wall").offset().left,a=$(".wall").offset().top;t>=s&&t<=s+30&&o>=a-15&&o<=a+165&&($(e).remove(),$(".score span").html(++g)),t<=m&&($(e).remove(),y-=10,console.log(y),$(".hp__container-fill").css("width",y+"%"),30==y&&$(".hp__container-fill").css("background-color","red"));let c=$(e).css("right").slice(0,-2);c=Number(c)+3+3*g/50,$(e).css("right",c+"px")}h=requestAnimationFrame(T),0==y&&($(".shots").empty(),$(document).off(),clearTimeout(u),clearTimeout(d),cancelAnimationFrame(h),$(".face-sleepEye").css("opacity",1),$(".wall").fadeOut(300),$("body").removeClass("start"),$(".start-btn.first").css("display","none"),$(".gameover").fadeIn(300))}function w(e,t){return e+Math.random()*(t+1-e)}$(".start-btn").on("click",(function(){$("body").addClass("start"),y=100,$(".hp__container-fill").css("width",y+"%"),g=0,$(".score span").html(g),$(".hp__container-fill").css("background-color","#0075ff"),$(".count").addClass("active"),$(".gameover").fadeOut(300),setTimeout((function(){$(".face-sleepEye").css("opacity",0),o=$(".hair-line").offset(),s=o.left,a=$(".hair-addition").offset(),c=a.left,i=$(".face-box").offset(),f=i.top,n=i.left,l=$(".face-pupil").offset(),r=l.top,p=l.left,setTimeout(()=>{$(document).on("mousemove",(function(o){e=o.pageX,t=o.pageY,e>750&&(e=750),function(){$(".wall").css("top",t);let o=(s-e)/25+60,a=-(c-e)/25+55,i=-(f-t)/25+50,l=-(n-e)/25+37,m=-(r-t)/40+30,u=-(p-e)/40+30,d=-(r-t)/20,h=-(p-e)/100+48,x=(p-e)/200,g=-(p-e)/200;$(".hair-line").css("right",o+"px"),$(".hair-addition").css("left",a+"px"),$(".face-leftEars").css("left",x+"px"),$(".face-rightEars").css("right",g+"px"),$(".face-box").css({top:i+"px",left:l+"px"}),$(".face-pupil").css({top:m+"px",left:u+"px"}),$(".head-box").css({top:d+"px",left:h+"px"}),$(".face-addition").css("left",h+"px")}()})),m=$(".head-box").offset().left+310},500)}),1e3);let x=5;$(".count").html(x);let E=setInterval(()=>{0==x?(clearInterval(E),$(".count").removeClass("active")):$(".count").html(--x)},1e3),_=1e3*w(3,7);u=setTimeout(v,_),setTimeout(()=>{d=setTimeout(b,1e3-2*g),h=requestAnimationFrame(T),$(".wall").fadeIn(300)},6e3)}))}));